<UserControl x:Class="ImoutoRebirth.Navigator.View.CurrentFileTagsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:metroControl="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
             xmlns:viewModel="clr-namespace:ImoutoRebirth.Navigator.ViewModel"
             xmlns:local="clr-namespace:ImoutoRebirth.Navigator.View"
             xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
             xmlns:tz="http://schemas.abtsoftware.co.uk/transitionz"
             mc:Ignorable="d"
             d:DataContext="{d:DesignInstance viewModel:CurrentFileTagsVM, IsDesignTimeCreatable=False}"
             d:DesignHeight="300"
             d:DesignWidth="300"
             x:Name="Root">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- current file tags -->
        <ScrollViewer Grid.Row="0"
                      HorizontalScrollBarVisibility="Disabled"
                      VerticalScrollBarVisibility="Auto">
            <ItemsControl x:Name="CurrentTags"
                          Margin="10"
                          ItemsSource="{Binding Path=CurrentTagsSources}"
                          ItemTemplate="{StaticResource CurrentTagsSourceDataTemplate}" />
        </ScrollViewer>

        <!-- Hot keys cheat sheet -->
        <Border
            Grid.Row="0"
            Margin="34 5 5 26"
            Padding="0"
            HorizontalAlignment="Left"
            VerticalAlignment="Bottom"
            tz:Transitionz.Opacity="{tz:OpacityParams From='0.5', To='1', Duration=200, TransitionOn=Visibility}"
            tz:Transitionz.Translate="{tz:TranslateParams From='-10,10', To='0,0', Duration=200, TransitionOn=Visibility}"
            tz:Transitionz.Visibility="{Binding
                ShowHotKeys,
                Converter={StaticResource ConditionVisibilityConverter},
                ConverterParameter=true}">

            <local:MainHotkeysView />
        </Border>

        <Button
            Grid.Row="0"
            Margin="5"
            HorizontalAlignment="Left"
            VerticalAlignment="Bottom"
            Width="24"
            Height="24"
            Style="{StaticResource MahApps.Styles.Button.Circle}"
            Cursor="Hand"
            Background="{DynamicResource MahApps.Brushes.ThemeBackground}"
            Command="{Binding ToggleShowHotKeysCommand}"
            Visibility="{Binding Path=CurrentTagsSources.Count, Converter={StaticResource ConditionVisibilityConverter}, ConverterParameter='>0'}">
            <iconPacks:PackIconModern Width="14"
                                      Height="14"
                                      Kind="InputKeyboard"
                                      Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}"/>
        </Button>
    </Grid>
</UserControl>

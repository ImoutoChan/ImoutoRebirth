<UserControl x:Class="ImoutoRebirth.Tori.UI.UserControls.InstallWizardStepsProgress"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:ImoutoRebirth.Tori.UI.UserControls"
             mc:Ignorable="d"
             x:Name="InstallProgressUserControl">

    <UserControl.Resources>
        <Storyboard x:Key="RevealAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Clip.Rect.Width"
                             To="{Binding ActualWidth, RelativeSource={RelativeSource Self}}"
                             Duration="0:0:0.3"
                             FillBehavior="HoldEnd" />
        </Storyboard>
    </UserControl.Resources>

   <Grid>
        <StackPanel Orientation="Horizontal">
            <Image Source="{StaticResource RingDrawingImage.Gray}" />
            <Image Margin="18,0" Source="{StaticResource BarDrawingImage.Gray}" />
            <Image Source="{StaticResource RingDrawingImage.Gray}" />
            <Image Margin="18,0" Source="{StaticResource BarDrawingImage.Gray}" />
            <Image Source="{StaticResource RingDrawingImage.Gray}" />
            <Image Margin="18,0" Source="{StaticResource BarDrawingImage.Gray}" />
            <Image Source="{StaticResource RingDrawingImage.Gray}" />
            <Image Margin="18,0" Source="{StaticResource BarDrawingImage.Gray}" />
            <Image Source="{StaticResource RingDrawingImage.Gray}" />
        </StackPanel>

        <StackPanel Orientation="Horizontal">
            <local:RevealImage Source="{StaticResource RingDrawingImage}" ShowStep="1" State="{Binding ElementName=InstallProgressUserControl, Path=State}" />
            <local:RevealImage Margin="18,0" Source="{StaticResource BarDrawingImage}" ShowStep="2" State="{Binding ElementName=InstallProgressUserControl, Path=State}" />
            <local:RevealImage Source="{StaticResource RingDrawingImage}" ShowStep="2" State="{Binding ElementName=InstallProgressUserControl, Path=State}" Delay="0:0:0.45" />
            <local:RevealImage Margin="18,0" Source="{StaticResource BarDrawingImage}" ShowStep="3" State="{Binding ElementName=InstallProgressUserControl, Path=State}" />
            <local:RevealImage Source="{StaticResource RingDrawingImage}" ShowStep="3" State="{Binding ElementName=InstallProgressUserControl, Path=State}" Delay="0:0:0.45" />
            <local:RevealImage Margin="18,0" Source="{StaticResource BarDrawingImage}" ShowStep="4" State="{Binding ElementName=InstallProgressUserControl, Path=State}" />
            <local:RevealImage Source="{StaticResource RingDrawingImage}" ShowStep="4" State="{Binding ElementName=InstallProgressUserControl, Path=State}" Delay="0:0:0.45" />
            <local:RevealImage Margin="18,0" Source="{StaticResource BarDrawingImage}" ShowStep="5" State="{Binding ElementName=InstallProgressUserControl, Path=State}" />
            <local:RevealImage Source="{StaticResource RingDrawingImage}" ShowStep="5" State="{Binding ElementName=InstallProgressUserControl, Path=State}" Delay="0:0:0.45" />
        </StackPanel>
    </Grid>
</UserControl>
